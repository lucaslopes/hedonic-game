(window.webpackJsonpdash_core_components=window.webpackJsonpdash_core_components||[]).push([[2],{177:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n.n(r),a=n(184),i=n(182),l=n(95),c=n(42),s=n(186),u=n(185),p=n(183),f=n(94),y=n(0),d=n.n(y),v=n(67);function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){h(t,e,n[e])}))}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(t,e,n){var r;if(Object(a.a)(n,["click","hover","selected"])){var o=[];if(Object(i.a)(e))return null;for(var u=t.data,p=0;p<e.points.length;p++){var f=e.points[p],y=Object(l.a)((function(t){return!Object(a.a)(Object(c.a)(t),["Object","Array"])}),f);Object(s.a)("curveNumber",f)&&Object(s.a)("pointNumber",f)&&Object(s.a)("customdata",u[y.curveNumber])&&(y.customdata=u[y.curveNumber].customdata[f.pointNumber]),Object(s.a)("pointNumbers",f)&&(y.pointNumbers=f.pointNumbers),o[p]=y}r={points:o}}else"relayout"!==n&&"restyle"!==n||(r=e);return Object(s.a)("range",e)&&(r.range=e.range),Object(s.a)("lassoPoints",e)&&(r.lassoPoints=e.lassoPoints),r},k=function(t){function e(t){var n,r,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(a=_(e).call(this,t))||"object"!==O(a)&&"function"!=typeof a?j(r):a).gd=o.a.createRef(),n.bindEvents=n.bindEvents.bind(j(n)),n._hasPlotted=!1,n._prevGd=null,n.graphResize=n.graphResize.bind(j(n)),n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,t),n=e,(r=[{key:"plot",value:function(t){var e=this,n=t.figure,r=t.animate,o=t.animation_options,a=t.config,i=this.gd.current;return r&&this._hasPlotted&&n.data.length===i.data.length?Plotly.animate(i,n,o):Plotly.react(i,{data:n.data,layout:Object(u.a)(n.layout),frames:n.frames,config:a}).then((function(){var t=e.gd.current;t&&(e._hasPlotted&&t!==e._prevGd&&(e._prevGd&&e._prevGd.removeAllListeners&&(e._prevGd.removeAllListeners(),Plotly.purge(e._prevGd)),e._hasPlotted=!1),e._hasPlotted||(e.bindEvents(),Plotly.Plots.resize(t),e._hasPlotted=!0,e._prevGd=t))}))}},{key:"extend",value:function(t){var e=this,n=t.clearExtendData;t.extendData.forEach((function(t){var n,r,o,a;if(Array.isArray(t)&&"object"===O(t[0])){var i=m(t,3);n=i[0],r=i[1],o=i[2]}else n=t;r||(a=n,r=Array.from(Array(function(t){return t[Object.keys(t)[0]]}(a).length).keys()));var l=e.gd.current;return Plotly.extendTraces(l,n,r,o)})),n()}},{key:"graphResize",value:function(){var t=this.gd.current;t&&Plotly.Plots.resize(t)}},{key:"bindEvents",value:function(){var t=this.props,e=t.setProps,n=t.clear_on_unhover,r=t.relayoutData,o=t.restyleData,a=t.hoverData,l=t.selectedData,c=this.gd.current;c.on("plotly_click",(function(t){var n=w(c,t,"click");Object(i.a)(n)||e({clickData:n})})),c.on("plotly_clickannotation",(function(t){var n=Object(p.a)(["event","fullAnnotation"],t);e({clickAnnotationData:n})})),c.on("plotly_hover",(function(t){var n=w(c,t,"hover");Object(i.a)(n)||Object(f.a)(n,a)||e({hoverData:n})})),c.on("plotly_selected",(function(t){var n=w(c,t,"selected");Object(i.a)(n)||Object(f.a)(n,l)||e({selectedData:n})})),c.on("plotly_deselect",(function(){e({selectedData:null})})),c.on("plotly_relayout",(function(t){var n=w(c,t,"relayout");Object(i.a)(n)||Object(f.a)(n,r)||e({relayoutData:n})})),c.on("plotly_restyle",(function(t){var n=w(c,t,"restyle");Object(i.a)(n)||Object(f.a)(n,o)||e({restyleData:n})})),c.on("plotly_unhover",(function(){n&&e({hoverData:null})}))}},{key:"componentDidMount",value:function(){var t=this;this.plot(this.props).then((function(){window.addEventListener("resize",t.graphResize)})),this.props.extendData&&this.extend(this.props)}},{key:"componentWillUnmount",value:function(){var t=this.gd.current;t&&t.removeAllListeners&&(t.removeAllListeners(),this._hasPlotted&&Plotly.purge(t)),window.removeEventListener("resize",this.graphResize)}},{key:"shouldComponentUpdate",value:function(t){return this.props.id!==t.id||JSON.stringify(this.props.style)!==JSON.stringify(t.style)}},{key:"componentWillReceiveProps",value:function(t){this.props.id!==t.id||(this.props.figure!==t.figure&&this.plot(t),this.props.extendData!==t.extendData&&this.extend(t))}},{key:"componentDidUpdate",value:function(t){t.id!==this.props.id&&this.plot(this.props)}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.id,r=t.style,a=t.loading_state;return o.a.createElement("div",{key:n,id:n,ref:this.gd,"data-dash-is-loading":a&&a.is_loading||void 0,style:r,className:e})}}])&&g(n.prototype,r),a&&g(n,a),e}(r.Component);k.propTypes=b({},v.c,{extendData:d.a.arrayOf(d.a.oneOfType([d.a.array,d.a.object])),clearExtendData:d.a.func.isRequired}),k.defaultProps=b({},v.b,{extendData:[]}),e.default=k}}]);
//# sourceMappingURL=async~graph.js.map